{"version":3,"sources":["ax5modal.min.js","ax5modal.js","ax5modal-tmpl.js"],"names":["MODAL","UI","ax5","ui","U","util","addClass","className","version","ax5modal","cfg","self","this","ENM","mousedown","info","supportTouch","mousemove","mouseup","getMousePosition","e","mouseObj","changedTouches","clientX","clientY","instanceId","getGuid","config","id","position","left","top","margin","minimizePosition","clickEventName","theme","width","height","closeToEsc","animateTime","activeModal","$","onStateChanged","opts","that","call","getContent","modalId","data","header","fullScreen","styles","iframe","iframeLoadingMsg","zIndex","absolute","param","tmpl","get","open","callback","jQuery","document","body","append","root","find","align","state","css","attr","method","target","action","url","on","hide","bind","show","submit","window","onkeyup","event","btnOnClick","isFullScreen","isButton","findParentNode","_target","getAttribute","mousePosition","moveModal","stopEvent","k","srcElement","key","value","btns","dialogId","btnTarget","onClick","keyCode","eventKeys","ESC","close","alignProcessor","top-left","top-right","bottom-left","bottom-right","center-middle","modalZIndex","modalOffset","modalBox","outerWidth","outerHeight","windowBox","getResizerPosition","__dx","__dy","minX","maxX","minY","maxY","scrollLeft","scrollTop","resizer","resizerBg","off","setModalPosition","box","offset","removeClass","remove","unbind","removeAttr","init","modalConfig","extend","setTimeout","$iframe","iframeObject","idoc","contentDocument","contentWindow","children","each","innerHTML","CollectGarbage","minimized","minimize","originalHeight","maximize","undefined","setModalConfig","_config","_fullScreen","isFunction","headerHeight","main","modal_instance","push","arguments","isObject","setConfig","apply","modal","content","tmplName","columnKeys","mustache","render"],"mappings":"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","file":"ax5modal.min.js","sourcesContent":["\"use strict\";\n\n// ax5.ui.modal\n(function () {\n\n    var UI = ax5.ui;\n    var U = ax5.util;\n    var MODAL;\n\n    UI.addClass({\n        className: \"modal\",\n        version: \"${VERSION}\"\n    }, function () {\n        /**\n         * @class ax5modal\n         * @alias ax5.ui.modal\n         * @author tom@axisj.com\n         * @example\n         * ```js\n         * var modal = new ax5.ui.modal({\n         *     iframeLoadingMsg: '<i class=\"fa fa-spinner fa-5x fa-spin\" aria-hidden=\"true\"></i>',\n         *     header: {\n         *         title: \"MODAL TITLE\",\n         *         btns: {\n         *             minimize: {\n         *                 label: '<i class=\"fa fa-minus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.minimize();\n         *                 }\n         *             },\n         *             maximize: {\n         *                 label: '<i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.maximize();\n         *                 }\n         *             },\n         *             close: {\n         *                 label: '<i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.close();\n         *                 }\n         *             }\n         *         }\n         *     }\n         * });\n         *\n         * modal.open({\n         *     width: 800,\n         *     height: 600,\n         *     fullScreen: function(){\n         *         return ($(window).width() < 600);\n         *     },\n         *     iframe: {\n         *         method: \"get\",\n         *         url: \"http://chequer-app:2017/html/login.html\",\n         *         param: \"callback=modalCallback\"\n         *     }\n         * });\n         * ```\n         */\n        var ax5modal = function ax5modal() {\n            var self = this,\n                cfg,\n                ENM = {\n                \"mousedown\": ax5.info.supportTouch ? \"touchstart\" : \"mousedown\",\n                \"mousemove\": ax5.info.supportTouch ? \"touchmove\" : \"mousemove\",\n                \"mouseup\": ax5.info.supportTouch ? \"touchend\" : \"mouseup\"\n            },\n                getMousePosition = function getMousePosition(e) {\n                var mouseObj = e;\n                if ('changedTouches' in e) {\n                    mouseObj = e.changedTouches[0];\n                }\n                return {\n                    clientX: mouseObj.clientX,\n                    clientY: mouseObj.clientY\n                };\n            };\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                id: 'ax5-modal-' + this.instanceId,\n                position: {\n                    left: \"center\",\n                    top: \"middle\",\n                    margin: 10\n                },\n                minimizePosition: \"bottom-right\",\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchstart\" : \"click\"),\n                theme: 'default',\n                width: 300,\n                height: 400,\n                closeToEsc: true,\n                animateTime: 250\n            };\n            this.activeModal = null;\n            this.$ = {}; // UI inside of the jQuery object store\n\n            cfg = this.config; // extended config copy cfg\n\n            var onStateChanged = function onStateChanged(opts, that) {\n                if (opts && opts.onStateChanged) {\n                    opts.onStateChanged.call(that, that);\n                } else if (this.onStateChanged) {\n                    this.onStateChanged.call(that, that);\n                }\n                return true;\n            },\n                getContent = function getContent(modalId, opts) {\n                var data = {\n                    modalId: modalId,\n                    theme: opts.theme,\n                    header: opts.header,\n                    fullScreen: opts.fullScreen ? \"fullscreen\" : \"\",\n                    styles: \"\",\n                    iframe: opts.iframe,\n                    iframeLoadingMsg: opts.iframeLoadingMsg\n                };\n\n                if (opts.zIndex) {\n                    data.styles += \"z-index:\" + opts.zIndex + \";\";\n                }\n                if (opts.absolute) {\n                    data.styles += \"position:absolute;\";\n                }\n\n                if (data.iframe && typeof data.iframe.param === \"string\") {\n                    data.iframe.param = ax5.util.param(data.iframe.param);\n                }\n\n                return MODAL.tmpl.get.call(this, \"content\", data, {});\n            },\n                open = function open(opts, callback) {\n                var that;\n                jQuery(document.body).append(getContent.call(this, opts.id, opts));\n\n                this.activeModal = jQuery('#' + opts.id);\n\n                // 파트수집\n                this.$ = {\n                    \"root\": this.activeModal,\n                    \"header\": this.activeModal.find('[data-modal-els=\"header\"]'),\n                    \"body\": this.activeModal.find('[data-modal-els=\"body\"]')\n                };\n\n                if (opts.iframe) {\n                    this.$[\"iframe-wrap\"] = this.activeModal.find('[data-modal-els=\"iframe-wrap\"]');\n                    this.$[\"iframe\"] = this.activeModal.find('[data-modal-els=\"iframe\"]');\n                    this.$[\"iframe-form\"] = this.activeModal.find('[data-modal-els=\"iframe-form\"]');\n                    this.$[\"iframe-loading\"] = this.activeModal.find('[data-modal-els=\"iframe-loading\"]');\n                }\n\n                //- position 정렬\n                this.align();\n\n                that = {\n                    self: this,\n                    id: opts.id,\n                    theme: opts.theme,\n                    width: opts.width,\n                    height: opts.height,\n                    state: \"open\",\n                    $: this.$\n                };\n\n                if (opts.iframe) {\n                    this.$[\"iframe-wrap\"].css({ height: opts.height });\n                    this.$[\"iframe\"].css({ height: opts.height });\n\n                    // iframe content load\n                    this.$[\"iframe-form\"].attr({ \"method\": opts.iframe.method });\n                    this.$[\"iframe-form\"].attr({ \"target\": opts.id + \"-frame\" });\n                    this.$[\"iframe-form\"].attr({ \"action\": opts.iframe.url });\n                    this.$[\"iframe\"].on(\"load\", function () {\n                        that.state = \"load\";\n                        if (opts.iframeLoadingMsg) {\n                            this.$[\"iframe-loading\"].hide();\n                        }\n                        onStateChanged.call(this, opts, that);\n                    }.bind(this));\n                    if (!opts.iframeLoadingMsg) {\n                        this.$[\"iframe\"].show();\n                    }\n                    this.$[\"iframe-form\"].submit();\n                }\n\n                if (callback) callback.call(that);\n                onStateChanged.call(this, opts, that);\n\n                // bind key event\n                if (opts.closeToEsc) {\n                    jQuery(window).bind(\"keydown.ax-modal\", function (e) {\n                        onkeyup.call(this, e || window.event);\n                    }.bind(this));\n                }\n                jQuery(window).bind(\"resize.ax-modal\", function (e) {\n                    this.align(null, e || window.event);\n                }.bind(this));\n\n                this.activeModal.find(\"[data-modal-header-btn]\").on(cfg.clickEventName, function (e) {\n                    btnOnClick.call(this, e || window.event, opts);\n                }.bind(this));\n\n                this.$.header.bind(ENM[\"mousedown\"], function (e) {\n                    if (opts.isFullScreen) return false;\n\n                    /// 이벤트 필터링 추가 : 버튼엘리먼트로 부터 발생된 이벤트이면 moveModal 시작하지 않도록 필터링\n                    var isButton = U.findParentNode(e.target, function (_target) {\n                        if (_target.getAttribute(\"data-modal-header-btn\")) {\n                            return true;\n                        }\n                    });\n\n                    if (!isButton) {\n                        self.mousePosition = getMousePosition(e);\n                        moveModal.on.call(self);\n                    }\n                }).bind(\"dragstart\", function (e) {\n                    U.stopEvent(e);\n                    return false;\n                });\n            },\n                btnOnClick = function btnOnClick(e, opts, callback, target, k) {\n                var that;\n                if (e.srcElement) e.target = e.srcElement;\n\n                target = U.findParentNode(e.target, function (target) {\n                    if (target.getAttribute(\"data-modal-header-btn\")) {\n                        return true;\n                    }\n                });\n\n                if (target) {\n                    k = target.getAttribute(\"data-modal-header-btn\");\n\n                    that = {\n                        self: this,\n                        key: k, value: opts.header.btns[k],\n                        dialogId: opts.id,\n                        btnTarget: target\n                    };\n\n                    if (opts.header.btns[k].onClick) {\n                        opts.header.btns[k].onClick.call(that, k);\n                    }\n                }\n\n                that = null;\n                opts = null;\n                callback = null;\n                target = null;\n                k = null;\n            },\n                onkeyup = function onkeyup(e) {\n                if (e.keyCode == ax5.info.eventKeys.ESC) {\n                    this.close();\n                }\n            },\n                alignProcessor = {\n                \"top-left\": function topLeft() {\n                    this.align({ left: \"left\", top: \"top\" });\n                },\n                \"top-right\": function topRight() {\n                    this.align({ left: \"right\", top: \"top\" });\n                },\n                \"bottom-left\": function bottomLeft() {\n                    this.align({ left: \"left\", top: \"bottom\" });\n                },\n                \"bottom-right\": function bottomRight() {\n                    this.align({ left: \"right\", top: \"bottom\" });\n                },\n                \"center-middle\": function centerMiddle() {\n                    this.align({ left: \"center\", top: \"middle\" });\n                }\n            },\n                moveModal = {\n                \"on\": function on() {\n                    var modalZIndex = this.activeModal.css(\"z-index\");\n                    var modalOffset = this.activeModal.position();\n                    var modalBox = {\n                        width: this.activeModal.outerWidth(), height: this.activeModal.outerHeight()\n                    };\n                    var windowBox = {\n                        width: jQuery(window).width(),\n                        height: jQuery(window).height()\n                    };\n                    var getResizerPosition = function getResizerPosition(e) {\n                        self.__dx = e.clientX - self.mousePosition.clientX;\n                        self.__dy = e.clientY - self.mousePosition.clientY;\n\n                        var minX = 0;\n                        var maxX = windowBox.width - modalBox.width;\n                        var minY = 0;\n                        var maxY = windowBox.height - modalBox.height;\n\n                        if (minX > modalOffset.left + self.__dx) {\n                            self.__dx = -modalOffset.left;\n                        } else if (maxX < modalOffset.left + self.__dx) {\n                            self.__dx = maxX - modalOffset.left;\n                        }\n\n                        if (minY > modalOffset.top + self.__dy) {\n                            self.__dy = -modalOffset.top;\n                        } else if (maxY < modalOffset.top + self.__dy) {\n                            self.__dy = maxY - modalOffset.top;\n                        }\n\n                        return {\n                            left: modalOffset.left + self.__dx + $(document).scrollLeft(),\n                            top: modalOffset.top + self.__dy + $(document).scrollTop()\n                        };\n                    };\n\n                    self.__dx = 0; // 변화량 X\n                    self.__dy = 0; // 변화량 Y\n\n                    if (!self.resizer) {\n                        // self.resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n                        self.resizerBg = jQuery('<div class=\"ax5modal-resizer-background\" ondragstart=\"return false;\"></div>');\n                        self.resizer = jQuery('<div class=\"ax5modal-resizer\" ondragstart=\"return false;\"></div>');\n                        self.resizerBg.css({ zIndex: modalZIndex });\n                        self.resizer.css({\n                            left: modalOffset.left,\n                            top: modalOffset.top,\n                            width: modalBox.width,\n                            height: modalBox.height,\n                            zIndex: modalZIndex + 1\n                        });\n                        jQuery(document.body).append(self.resizerBg).append(self.resizer);\n                        self.activeModal.addClass(\"draged\");\n                    }\n\n                    jQuery(document.body).bind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id, function (e) {\n                        self.resizer.css(getResizerPosition(e));\n                    }).bind(ENM[\"mouseup\"] + \".ax5layout-\" + this.instanceId, function (e) {\n                        moveModal.off.call(self);\n                    }).bind(\"mouseleave.ax5layout-\" + this.instanceId, function (e) {\n                        moveModal.off.call(self);\n                    });\n\n                    jQuery(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);\n                },\n                \"off\": function off() {\n                    var setModalPosition = function setModalPosition() {\n                        //console.log(this.activeModal.offset(), this.__dx);\n                        var box = this.activeModal.offset();\n                        box.left += this.__dx - $(document).scrollLeft();\n                        box.top += this.__dy - $(document).scrollTop();\n                        this.activeModal.css(box);\n                    };\n\n                    if (this.resizer) {\n                        this.activeModal.removeClass(\"draged\");\n                        this.resizer.remove();\n                        this.resizer = null;\n                        this.resizerBg.remove();\n                        this.resizerBg = null;\n                        setModalPosition.call(this);\n                        //this.align();\n                    }\n\n                    jQuery(document.body).unbind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id).unbind(ENM[\"mouseup\"] + \".ax5modal-\" + cfg.id).unbind(\"mouseleave.ax5modal-\" + cfg.id);\n\n                    jQuery(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');\n                }\n            };\n\n            /// private end\n\n            /**\n             * Preferences of modal UI\n             * @method ax5modal.setConfig\n             * @param {Object} config - 클래스 속성값\n             * @param {Number} [config.zIndex]\n             * @param {Boolean} [config.absolute=false]\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * ```\n             */\n            //== class body start\n            this.init = function () {\n                this.onStateChanged = cfg.onStateChanged;\n            };\n\n            /**\n             * open the modal\n             * @method ax5modal.open\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.open();\n             * ```\n             */\n            this.open = function (opts, callback) {\n                if (!this.activeModal) {\n                    opts = self.modalConfig = jQuery.extend(true, {}, cfg, opts);\n                    open.call(this, opts, callback);\n                }\n                return this;\n            };\n\n            /**\n             * close the modal\n             * @method ax5modal.close\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.close();\n             * ```\n             */\n            this.close = function (opts) {\n                if (this.activeModal) {\n                    opts = self.modalConfig;\n                    this.activeModal.addClass(\"destroy\");\n                    jQuery(window).unbind(\"keydown.ax-modal\");\n                    jQuery(window).unbind(\"resize.ax-modal\");\n\n                    setTimeout(function () {\n                        if (this.activeModal) {\n\n                            // 프레임 제거\n                            if (opts.iframe) {\n                                var $iframe = this.$[\"iframe\"]; // iframe jQuery Object\n                                if ($iframe) {\n                                    var iframeObject = $iframe.get(0),\n                                        idoc = iframeObject.contentDocument ? iframeObject.contentDocument : iframeObject.contentWindow.document;\n\n                                    try {\n                                        $(idoc.body).children().each(function () {\n                                            $(this).remove();\n                                        });\n                                    } catch (e) {}\n                                    idoc.innerHTML = \"\";\n                                    $iframe.attr('src', 'about:blank').remove();\n\n                                    // force garbarge collection for IE only\n                                    window.CollectGarbage && window.CollectGarbage();\n                                }\n                            }\n\n                            this.activeModal.remove();\n                            this.activeModal = null;\n                        }\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"close\"\n                        });\n                    }.bind(this), cfg.animateTime);\n                }\n\n                this.minimized = false; // hoksi\n\n                return this;\n            };\n\n            /**\n             * @method ax5modal.minimize\n             * @returns {ax5modal}\n             */\n            this.minimize = function () {\n\n                return function (minimizePosition) {\n\n                    if (this.minimized !== true) {\n\n                        var opts = self.modalConfig;\n                        if (typeof minimizePosition === \"undefined\") minimizePosition = cfg.minimizePosition;\n\n                        this.minimized = true;\n                        this.$.body.hide();\n                        self.modalConfig.originalHeight = opts.height;\n                        self.modalConfig.height = 0;\n                        alignProcessor[minimizePosition].call(this);\n\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"minimize\"\n                        });\n                    }\n\n                    return this;\n                };\n            }();\n\n            /**\n             * @method ax5modal.maximize\n             * @returns {ax5modal}\n             */\n            this.maximize = function () {\n                var opts = self.modalConfig;\n                if (this.minimized) {\n                    this.minimized = false;\n                    this.$.body.show();\n                    self.modalConfig.height = self.modalConfig.originalHeight;\n                    self.modalConfig.originalHeight = undefined;\n\n                    this.align({ left: \"center\", top: \"middle\" });\n                    onStateChanged.call(this, opts, {\n                        self: this,\n                        state: \"restore\"\n                    });\n                }\n                return this;\n            };\n\n            /**\n             * setCSS\n             * @method ax5modal.css\n             * @param {Object} css -\n             * @returns {ax5modal}\n             */\n            this.css = function (css) {\n                if (this.activeModal && !self.fullScreen) {\n                    this.activeModal.css(css);\n                    if (css.width) {\n                        self.modalConfig.width = this.activeModal.width();\n                    }\n                    if (css.height) {\n                        self.modalConfig.height = this.activeModal.height();\n                        if (this.$[\"iframe\"]) {\n                            this.$[\"iframe-wrap\"].css({ height: self.modalConfig.height });\n                            this.$[\"iframe\"].css({ height: self.modalConfig.height });\n                        }\n                    }\n                }\n                return this;\n            };\n\n            /**\n             * @method ax5modal.setModalConfig\n             * @param _config\n             * @returns {ax5.ui.ax5modal}\n             */\n            this.setModalConfig = function (_config) {\n                self.modalConfig = jQuery.extend({}, self.modalConfig, _config);\n                this.align();\n                return this;\n            };\n\n            /**\n             * @method ax5modal.align\n             * @param position\n             * @param e\n             * @returns {ax5modal}\n             */\n            this.align = function () {\n\n                return function (position, e) {\n                    if (!this.activeModal) return this;\n\n                    var opts = self.modalConfig,\n                        box = {\n                        width: opts.width,\n                        height: opts.height\n                    };\n\n                    var fullScreen = opts.isFullScreen = function (_fullScreen) {\n                        if (typeof _fullScreen === \"undefined\") {\n                            return false;\n                        } else if (U.isFunction(_fullScreen)) {\n                            return _fullScreen();\n                        }\n                    }(opts.fullScreen);\n\n                    if (fullScreen) {\n                        if (opts.header) this.$.header.show();\n                        box.width = jQuery(window).width();\n                        box.height = opts.height;\n                        box.left = 0;\n                        box.top = 0;\n                    } else {\n                        if (opts.header) this.$.header.show();\n                        if (position) {\n                            jQuery.extend(true, opts.position, position);\n                        }\n\n                        if (opts.header) {\n                            opts.headerHeight = this.$.header.outerHeight();\n                            box.height += opts.headerHeight;\n                        } else {\n                            opts.headerHeight = 0;\n                        }\n\n                        //- position 정렬\n                        if (opts.position.left == \"left\") {\n                            box.left = opts.position.margin || 0;\n                        } else if (opts.position.left == \"right\") {\n                            // window.innerWidth;\n                            box.left = jQuery(window).width() - box.width - (opts.position.margin || 0);\n                        } else if (opts.position.left == \"center\") {\n                            box.left = jQuery(window).width() / 2 - box.width / 2;\n                        } else {\n                            box.left = opts.position.left || 0;\n                        }\n\n                        if (opts.position.top == \"top\") {\n                            box.top = opts.position.margin || 0;\n                        } else if (opts.position.top == \"bottom\") {\n                            box.top = jQuery(window).height() - box.height - (opts.position.margin || 0);\n                        } else if (opts.position.top == \"middle\") {\n                            box.top = jQuery(window).height() / 2 - box.height / 2;\n                        } else {\n                            box.top = opts.position.top || 0;\n                        }\n                        if (box.left < 0) box.left = 0;\n                        if (box.top < 0) box.top = 0;\n                    }\n\n                    this.activeModal.css(box);\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"].css({ height: box.height - opts.headerHeight });\n                        this.$[\"iframe\"].css({ height: box.height - opts.headerHeight });\n                    }\n                    return this;\n                };\n            }();\n\n            // 클래스 생성자\n            this.main = function () {\n\n                UI.modal_instance = UI.modal_instance || [];\n                UI.modal_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                }\n            }.apply(this, arguments);\n        };\n        return ax5modal;\n    }());\n\n    MODAL = ax5.ui.modal;\n})();\n\n// ax5.ui.modal.tmpl\n(function () {\n    var MODAL = ax5.ui.modal;\n\n    var content = function content() {\n        return \" \\n        <div id=\\\"{{modalId}}\\\" data-modal-els=\\\"root\\\" class=\\\"ax5modal {{theme}} {{fullscreen}}\\\" style=\\\"{{styles}}\\\">\\n            {{#header}}\\n            <div class=\\\"ax-modal-header\\\" data-modal-els=\\\"header\\\">\\n                {{{title}}}\\n                {{#btns}}\\n                    <div class=\\\"ax-modal-header-addon\\\">\\n                    {{#@each}}\\n                    <button tabindex=\\\"-1\\\" data-modal-header-btn=\\\"{{@key}}\\\" class=\\\"{{@value.theme}}\\\">{{{@value.label}}}</button>\\n                    {{/@each}}\\n                    </div>\\n                {{/btns}}\\n            </div>\\n            {{/header}}\\n            <div class=\\\"ax-modal-body\\\" data-modal-els=\\\"body\\\">\\n            {{#iframe}}\\n            \\n                <div data-modal-els=\\\"iframe-wrap\\\" style=\\\"-webkit-overflow-scrolling: touch; overflow: auto;position: relative;\\\">\\n                    <table data-modal-els=\\\"iframe-loading\\\" style=\\\"width:100%;height:100%;\\\"><tr><td style=\\\"text-align: center;vertical-align: middle\\\">{{{iframeLoadingMsg}}}</td></tr></table>\\n                    <iframe name=\\\"{{modalId}}-frame\\\" src=\\\"\\\" width=\\\"100%\\\" height=\\\"100%\\\" frameborder=\\\"0\\\" data-modal-els=\\\"iframe\\\" style=\\\"position: absolute;left:0;top:0;\\\"></iframe>\\n                </div>\\n                <form name=\\\"{{modalId}}-form\\\" data-modal-els=\\\"iframe-form\\\">\\n                <input type=\\\"hidden\\\" name=\\\"modalId\\\" value=\\\"{{modalId}}\\\" />\\n                {{#param}}\\n                {{#@each}}\\n                <input type=\\\"hidden\\\" name=\\\"{{@key}}\\\" value=\\\"{{@value}}\\\" />\\n                {{/@each}}\\n                {{/param}}\\n                </form>\\n            {{/iframe}}\\n            </div>\\n            <div class=\\\"ax-modal-body-mask\\\"></div>\\n        </div>\\n        \";\n    };\n\n    MODAL.tmpl = {\n        \"content\": content,\n\n        get: function get(tmplName, data, columnKeys) {\n            return ax5.mustache.render(MODAL.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n})();","// ax5.ui.modal\n(function () {\n\n    var UI = ax5.ui;\n    var U = ax5.util;\n    var MODAL;\n\n    UI.addClass({\n        className: \"modal\",\n        version: \"${VERSION}\"\n    }, (function () {\n        /**\n         * @class ax5modal\n         * @alias ax5.ui.modal\n         * @author tom@axisj.com\n         * @example\n         * ```js\n         * var modal = new ax5.ui.modal({\n         *     iframeLoadingMsg: '<i class=\"fa fa-spinner fa-5x fa-spin\" aria-hidden=\"true\"></i>',\n         *     header: {\n         *         title: \"MODAL TITLE\",\n         *         btns: {\n         *             minimize: {\n         *                 label: '<i class=\"fa fa-minus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.minimize();\n         *                 }\n         *             },\n         *             maximize: {\n         *                 label: '<i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.maximize();\n         *                 }\n         *             },\n         *             close: {\n         *                 label: '<i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.close();\n         *                 }\n         *             }\n         *         }\n         *     }\n         * });\n         *\n         * modal.open({\n         *     width: 800,\n         *     height: 600,\n         *     fullScreen: function(){\n         *         return ($(window).width() < 600);\n         *     },\n         *     iframe: {\n         *         method: \"get\",\n         *         url: \"http://chequer-app:2017/html/login.html\",\n         *         param: \"callback=modalCallback\"\n         *     }\n         * });\n         * ```\n         */\n        var ax5modal = function () {\n            var\n                self = this,\n                cfg,\n                ENM = {\n                    \"mousedown\": (ax5.info.supportTouch) ? \"touchstart\" : \"mousedown\",\n                    \"mousemove\": (ax5.info.supportTouch) ? \"touchmove\" : \"mousemove\",\n                    \"mouseup\": (ax5.info.supportTouch) ? \"touchend\" : \"mouseup\"\n                },\n                getMousePosition = function (e) {\n                    var mouseObj = e;\n                    if ('changedTouches' in e) {\n                        mouseObj = e.changedTouches[0];\n                    }\n                    return {\n                        clientX: mouseObj.clientX,\n                        clientY: mouseObj.clientY\n                    }\n                };\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                id: 'ax5-modal-' + this.instanceId,\n                position: {\n                    left: \"center\",\n                    top: \"middle\",\n                    margin: 10\n                },\n                minimizePosition: \"bottom-right\",\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchstart\" : \"click\"),\n                theme: 'default',\n                width: 300,\n                height: 400,\n                closeToEsc: true,\n                animateTime: 250\n            };\n            this.activeModal = null;\n            this.$ = {}; // UI inside of the jQuery object store\n\n            cfg = this.config; // extended config copy cfg\n\n            var\n                onStateChanged = function (opts, that) {\n                    if (opts && opts.onStateChanged) {\n                        opts.onStateChanged.call(that, that);\n                    }\n                    else if (this.onStateChanged) {\n                        this.onStateChanged.call(that, that);\n                    }\n                    return true;\n                },\n                getContent = function (modalId, opts) {\n                    var\n                        data = {\n                            modalId: modalId,\n                            theme: opts.theme,\n                            header: opts.header,\n                            fullScreen: (opts.fullScreen ? \"fullscreen\" : \"\"),\n                            styles: \"\",\n                            iframe: opts.iframe,\n                            iframeLoadingMsg: opts.iframeLoadingMsg\n                        };\n\n                    if (opts.zIndex) {\n                        data.styles += \"z-index:\" + opts.zIndex + \";\";\n                    }\n                    if (opts.absolute) {\n                        data.styles += \"position:absolute;\";\n                    }\n\n                    if (data.iframe && typeof data.iframe.param === \"string\") {\n                        data.iframe.param = ax5.util.param(data.iframe.param);\n                    }\n\n                    return MODAL.tmpl.get.call(this, \"content\", data, {});\n                },\n                open = function (opts, callback) {\n                    var that;\n                    jQuery(document.body).append(getContent.call(this, opts.id, opts));\n\n                    this.activeModal = jQuery('#' + opts.id);\n\n                    // 파트수집\n                    this.$ = {\n                        \"root\": this.activeModal,\n                        \"header\": this.activeModal.find('[data-modal-els=\"header\"]'),\n                        \"body\": this.activeModal.find('[data-modal-els=\"body\"]')\n                    };\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"] = this.activeModal.find('[data-modal-els=\"iframe-wrap\"]');\n                        this.$[\"iframe\"] = this.activeModal.find('[data-modal-els=\"iframe\"]');\n                        this.$[\"iframe-form\"] = this.activeModal.find('[data-modal-els=\"iframe-form\"]');\n                        this.$[\"iframe-loading\"] = this.activeModal.find('[data-modal-els=\"iframe-loading\"]');\n                    }\n\n                    //- position 정렬\n                    this.align();\n\n                    that = {\n                        self: this,\n                        id: opts.id,\n                        theme: opts.theme,\n                        width: opts.width,\n                        height: opts.height,\n                        state: \"open\",\n                        $: this.$\n                    };\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"].css({height: opts.height});\n                        this.$[\"iframe\"].css({height: opts.height});\n\n                        // iframe content load\n                        this.$[\"iframe-form\"].attr({\"method\": opts.iframe.method});\n                        this.$[\"iframe-form\"].attr({\"target\": opts.id + \"-frame\"});\n                        this.$[\"iframe-form\"].attr({\"action\": opts.iframe.url});\n                        this.$[\"iframe\"].on(\"load\", (function () {\n                            that.state = \"load\";\n                            if (opts.iframeLoadingMsg) {\n                                this.$[\"iframe-loading\"].hide();\n                            }\n                            onStateChanged.call(this, opts, that);\n                        }).bind(this));\n                        if (!opts.iframeLoadingMsg) {\n                            this.$[\"iframe\"].show();\n                        }\n                        this.$[\"iframe-form\"].submit();\n                    }\n\n                    if (callback) callback.call(that);\n                    onStateChanged.call(this, opts, that);\n\n                    // bind key event\n                    if (opts.closeToEsc) {\n                        jQuery(window).bind(\"keydown.ax-modal\", (function (e) {\n                            onkeyup.call(this, e || window.event);\n                        }).bind(this));\n                    }\n                    jQuery(window).bind(\"resize.ax-modal\", (function (e) {\n                        this.align(null, e || window.event);\n                    }).bind(this));\n\n                    this.activeModal.find(\"[data-modal-header-btn]\").on(cfg.clickEventName, (function (e) {\n                        btnOnClick.call(this, e || window.event, opts);\n                    }).bind(this));\n\n                    this.$.header\n                        .bind(ENM[\"mousedown\"], function (e) {\n                            if (opts.isFullScreen) return false;\n\n                            /// 이벤트 필터링 추가 : 버튼엘리먼트로 부터 발생된 이벤트이면 moveModal 시작하지 않도록 필터링\n                            var isButton = U.findParentNode(e.target, function (_target) {\n                                if (_target.getAttribute(\"data-modal-header-btn\")) {\n                                    return true;\n                                }\n                            });\n\n                            if (!isButton) {\n                                self.mousePosition = getMousePosition(e);\n                                moveModal.on.call(self);\n                            }\n                        })\n                        .bind(\"dragstart\", function (e) {\n                            U.stopEvent(e);\n                            return false;\n                        });\n                },\n                btnOnClick = function (e, opts, callback, target, k) {\n                    var that;\n                    if (e.srcElement) e.target = e.srcElement;\n\n                    target = U.findParentNode(e.target, function (target) {\n                        if (target.getAttribute(\"data-modal-header-btn\")) {\n                            return true;\n                        }\n                    });\n\n                    if (target) {\n                        k = target.getAttribute(\"data-modal-header-btn\");\n\n                        that = {\n                            self: this,\n                            key: k, value: opts.header.btns[k],\n                            dialogId: opts.id,\n                            btnTarget: target\n                        };\n\n                        if (opts.header.btns[k].onClick) {\n                            opts.header.btns[k].onClick.call(that, k);\n                        }\n                    }\n\n                    that = null;\n                    opts = null;\n                    callback = null;\n                    target = null;\n                    k = null;\n                },\n                onkeyup = function (e) {\n                    if (e.keyCode == ax5.info.eventKeys.ESC) {\n                        this.close();\n                    }\n                },\n                alignProcessor = {\n                    \"top-left\": function () {\n                        this.align({left: \"left\", top: \"top\"});\n                    },\n                    \"top-right\": function () {\n                        this.align({left: \"right\", top: \"top\"});\n                    },\n                    \"bottom-left\": function () {\n                        this.align({left: \"left\", top: \"bottom\"});\n                    },\n                    \"bottom-right\": function () {\n                        this.align({left: \"right\", top: \"bottom\"});\n                    },\n                    \"center-middle\": function () {\n                        this.align({left: \"center\", top: \"middle\"});\n                    }\n                },\n                moveModal = {\n                    \"on\": function () {\n                        var modalZIndex = this.activeModal.css(\"z-index\");\n                        var modalOffset = this.activeModal.position();\n                        var modalBox = {\n                            width: this.activeModal.outerWidth(), height: this.activeModal.outerHeight()\n                        };\n                        var windowBox = {\n                            width: jQuery(window).width(),\n                            height: jQuery(window).height()\n                        };\n                        var getResizerPosition = function (e) {\n                            self.__dx = e.clientX - self.mousePosition.clientX;\n                            self.__dy = e.clientY - self.mousePosition.clientY;\n\n                            var minX = 0;\n                            var maxX = windowBox.width - modalBox.width;\n                            var minY = 0;\n                            var maxY = windowBox.height - modalBox.height;\n\n                            if (minX > modalOffset.left + self.__dx) {\n                                self.__dx = -modalOffset.left;\n                            }\n                            else if (maxX < modalOffset.left + self.__dx) {\n                                self.__dx = (maxX) - modalOffset.left;\n                            }\n\n                            if (minY > modalOffset.top + self.__dy) {\n                                self.__dy = -modalOffset.top;\n                            }\n                            else if (maxY < modalOffset.top + self.__dy) {\n                                self.__dy = (maxY) - modalOffset.top;\n                            }\n\n                            return {\n                                left: modalOffset.left + self.__dx + $(document).scrollLeft(),\n                                top: modalOffset.top + self.__dy + $(document).scrollTop()\n                            };\n                        };\n\n                        self.__dx = 0; // 변화량 X\n                        self.__dy = 0; // 변화량 Y\n\n                        if (!self.resizer) {\n                            // self.resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n                            self.resizerBg = jQuery('<div class=\"ax5modal-resizer-background\" ondragstart=\"return false;\"></div>');\n                            self.resizer = jQuery('<div class=\"ax5modal-resizer\" ondragstart=\"return false;\"></div>');\n                            self.resizerBg.css({zIndex: modalZIndex});\n                            self.resizer.css({\n                                left: modalOffset.left,\n                                top: modalOffset.top,\n                                width: modalBox.width,\n                                height: modalBox.height,\n                                zIndex: modalZIndex + 1\n                            });\n                            jQuery(document.body)\n                                .append(self.resizerBg)\n                                .append(self.resizer);\n                            self.activeModal.addClass(\"draged\");\n                        }\n\n                        jQuery(document.body)\n                            .bind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id, function (e) {\n                                self.resizer.css(getResizerPosition(e));\n                            })\n                            .bind(ENM[\"mouseup\"] + \".ax5layout-\" + this.instanceId, function (e) {\n                                moveModal.off.call(self);\n                            })\n                            .bind(\"mouseleave.ax5layout-\" + this.instanceId, function (e) {\n                                moveModal.off.call(self);\n                            });\n\n                        jQuery(document.body)\n                            .attr('unselectable', 'on')\n                            .css('user-select', 'none')\n                            .on('selectstart', false);\n                    },\n                    \"off\": function () {\n                        var setModalPosition = function () {\n                            //console.log(this.activeModal.offset(), this.__dx);\n                            var box = this.activeModal.offset();\n                            box.left += this.__dx - $(document).scrollLeft();\n                            box.top += this.__dy - $(document).scrollTop();\n                            this.activeModal.css(box);\n                        };\n\n                        if (this.resizer) {\n                            this.activeModal.removeClass(\"draged\");\n                            this.resizer.remove();\n                            this.resizer = null;\n                            this.resizerBg.remove();\n                            this.resizerBg = null;\n                            setModalPosition.call(this);\n                            //this.align();\n                        }\n\n                        jQuery(document.body)\n                            .unbind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id)\n                            .unbind(ENM[\"mouseup\"] + \".ax5modal-\" + cfg.id)\n                            .unbind(\"mouseleave.ax5modal-\" + cfg.id);\n\n                        jQuery(document.body)\n                            .removeAttr('unselectable')\n                            .css('user-select', 'auto')\n                            .off('selectstart');\n\n                    }\n                };\n\n            /// private end\n\n            /**\n             * Preferences of modal UI\n             * @method ax5modal.setConfig\n             * @param {Object} config - 클래스 속성값\n             * @param {Number} [config.zIndex]\n             * @param {Boolean} [config.absolute=false]\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * ```\n             */\n            //== class body start\n            this.init = function () {\n                this.onStateChanged = cfg.onStateChanged;\n            };\n\n            /**\n             * open the modal\n             * @method ax5modal.open\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.open();\n             * ```\n             */\n            this.open = function (opts, callback) {\n                if (!this.activeModal) {\n                    opts = self.modalConfig = jQuery.extend(true, {}, cfg, opts);\n                    open.call(this, opts, callback);\n                }\n                return this;\n            };\n\n            /**\n             * close the modal\n             * @method ax5modal.close\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.close();\n             * ```\n             */\n            this.close = function (opts) {\n                if (this.activeModal) {\n                    opts = self.modalConfig;\n                    this.activeModal.addClass(\"destroy\");\n                    jQuery(window).unbind(\"keydown.ax-modal\");\n                    jQuery(window).unbind(\"resize.ax-modal\");\n\n                    setTimeout((function () {\n                        if (this.activeModal) {\n\n                            // 프레임 제거\n                            if (opts.iframe) {\n                                var $iframe = this.$[\"iframe\"]; // iframe jQuery Object\n                                if ($iframe) {\n                                    var iframeObject = $iframe.get(0),\n                                        idoc = (iframeObject.contentDocument) ? iframeObject.contentDocument : iframeObject.contentWindow.document;\n \n                                    try {\n                                        $(idoc.body).children().each(function () {\n                                            $(this).remove();\n                                        });\n                                    } catch (e) {\n\n                                    }\n                                    idoc.innerHTML = \"\";\n                                    $iframe\n                                        .attr('src', 'about:blank')\n                                        .remove();\n\n                                    // force garbarge collection for IE only\n                                    window.CollectGarbage && window.CollectGarbage();\n                                }\n                            }\n\n                            this.activeModal.remove();\n                            this.activeModal = null;\n                        }\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"close\"\n                        });\n\n                    }).bind(this), cfg.animateTime);\n                }\n\n                this.minimized = false; // hoksi\n\n                return this;\n            };\n\n            /**\n             * @method ax5modal.minimize\n             * @returns {ax5modal}\n             */\n            this.minimize = (function () {\n\n                return function (minimizePosition) {\n\n                    if (this.minimized !== true) {\n\n                        var opts = self.modalConfig;\n                        if (typeof minimizePosition === \"undefined\") minimizePosition = cfg.minimizePosition;\n\n                        this.minimized = true;\n                        this.$.body.hide();\n                        self.modalConfig.originalHeight = opts.height;\n                        self.modalConfig.height = 0;\n                        alignProcessor[minimizePosition].call(this);\n\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"minimize\"\n                        });\n                    }\n\n                    return this;\n                };\n            })();\n\n            /**\n             * @method ax5modal.maximize\n             * @returns {ax5modal}\n             */\n            this.maximize = function () {\n                var opts = self.modalConfig;\n                if (this.minimized) {\n                    this.minimized = false;\n                    this.$.body.show();\n                    self.modalConfig.height = self.modalConfig.originalHeight;\n                    self.modalConfig.originalHeight = undefined;\n\n                    this.align({left: \"center\", top: \"middle\"});\n                    onStateChanged.call(this, opts, {\n                        self: this,\n                        state: \"restore\"\n                    });\n                }\n                return this;\n            };\n\n            /**\n             * setCSS\n             * @method ax5modal.css\n             * @param {Object} css -\n             * @returns {ax5modal}\n             */\n            this.css = function (css) {\n                if (this.activeModal && !self.fullScreen) {\n                    this.activeModal.css(css);\n                    if (css.width) {\n                        self.modalConfig.width = this.activeModal.width();\n                    }\n                    if (css.height) {\n                        self.modalConfig.height = this.activeModal.height();\n                        if (this.$[\"iframe\"]) {\n                            this.$[\"iframe-wrap\"].css({height: self.modalConfig.height});\n                            this.$[\"iframe\"].css({height: self.modalConfig.height});\n                        }\n                    }\n                }\n                return this;\n            };\n\n            /**\n             * @method ax5modal.setModalConfig\n             * @param _config\n             * @returns {ax5.ui.ax5modal}\n             */\n            this.setModalConfig = function (_config) {\n                self.modalConfig = jQuery.extend({}, self.modalConfig, _config);\n                this.align();\n                return this;\n            };\n\n            /**\n             * @method ax5modal.align\n             * @param position\n             * @param e\n             * @returns {ax5modal}\n             */\n            this.align = (function () {\n\n                return function (position, e) {\n                    if (!this.activeModal) return this;\n\n                    var opts = self.modalConfig,\n                        box = {\n                            width: opts.width,\n                            height: opts.height\n                        };\n\n                    var fullScreen = opts.isFullScreen = (function (_fullScreen) {\n                        if (typeof _fullScreen === \"undefined\") {\n                            return false;\n                        } else if (U.isFunction(_fullScreen)) {\n                            return _fullScreen();\n                        }\n                    })(opts.fullScreen);\n\n                    if (fullScreen) {\n                        if (opts.header) this.$.header.show();\n                        box.width = jQuery(window).width();\n                        box.height = opts.height;\n                        box.left = 0;\n                        box.top = 0;\n                    }\n                    else {\n                        if (opts.header) this.$.header.show();\n                        if (position) {\n                            jQuery.extend(true, opts.position, position);\n                        }\n\n                        if (opts.header) {\n                            opts.headerHeight = this.$.header.outerHeight();\n                            box.height += opts.headerHeight;\n                        } else {\n                            opts.headerHeight = 0;\n                        }\n\n                        //- position 정렬\n                        if (opts.position.left == \"left\") {\n                            box.left = (opts.position.margin || 0);\n                        }\n                        else if (opts.position.left == \"right\") {\n                            // window.innerWidth;\n                            box.left = jQuery(window).width() - box.width - (opts.position.margin || 0);\n                        }\n                        else if (opts.position.left == \"center\") {\n                            box.left = jQuery(window).width() / 2 - box.width / 2;\n                        }\n                        else {\n                            box.left = opts.position.left || 0;\n                        }\n\n                        if (opts.position.top == \"top\") {\n                            box.top = (opts.position.margin || 0);\n                        }\n                        else if (opts.position.top == \"bottom\") {\n                            box.top = jQuery(window).height() - box.height - (opts.position.margin || 0);\n                        }\n                        else if (opts.position.top == \"middle\") {\n                            box.top = jQuery(window).height() / 2 - box.height / 2;\n                        }\n                        else {\n                            box.top = opts.position.top || 0;\n                        }\n                        if (box.left < 0) box.left = 0;\n                        if (box.top < 0) box.top = 0;\n                    }\n\n                    this.activeModal.css(box);\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"].css({height: box.height - opts.headerHeight});\n                        this.$[\"iframe\"].css({height: box.height - opts.headerHeight});\n                    }\n                    return this;\n                };\n            })();\n\n            // 클래스 생성자\n            this.main = (function () {\n\n                UI.modal_instance = UI.modal_instance || [];\n                UI.modal_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                }\n\n            }).apply(this, arguments);\n        };\n        return ax5modal;\n    })());\n\n    MODAL = ax5.ui.modal;\n})();\n","// ax5.ui.modal.tmpl\n(function () {\n    var MODAL = ax5.ui.modal;\n    \n    var content = function () {\n        return ` \n        <div id=\"{{modalId}}\" data-modal-els=\"root\" class=\"ax5modal {{theme}} {{fullscreen}}\" style=\"{{styles}}\">\n            {{#header}}\n            <div class=\"ax-modal-header\" data-modal-els=\"header\">\n                {{{title}}}\n                {{#btns}}\n                    <div class=\"ax-modal-header-addon\">\n                    {{#@each}}\n                    <button tabindex=\"-1\" data-modal-header-btn=\"{{@key}}\" class=\"{{@value.theme}}\">{{{@value.label}}}</button>\n                    {{/@each}}\n                    </div>\n                {{/btns}}\n            </div>\n            {{/header}}\n            <div class=\"ax-modal-body\" data-modal-els=\"body\">\n            {{#iframe}}\n            \n                <div data-modal-els=\"iframe-wrap\" style=\"-webkit-overflow-scrolling: touch; overflow: auto;position: relative;\">\n                    <table data-modal-els=\"iframe-loading\" style=\"width:100%;height:100%;\"><tr><td style=\"text-align: center;vertical-align: middle\">{{{iframeLoadingMsg}}}</td></tr></table>\n                    <iframe name=\"{{modalId}}-frame\" src=\"\" width=\"100%\" height=\"100%\" frameborder=\"0\" data-modal-els=\"iframe\" style=\"position: absolute;left:0;top:0;\"></iframe>\n                </div>\n                <form name=\"{{modalId}}-form\" data-modal-els=\"iframe-form\">\n                <input type=\"hidden\" name=\"modalId\" value=\"{{modalId}}\" />\n                {{#param}}\n                {{#@each}}\n                <input type=\"hidden\" name=\"{{@key}}\" value=\"{{@value}}\" />\n                {{/@each}}\n                {{/param}}\n                </form>\n            {{/iframe}}\n            </div>\n            <div class=\"ax-modal-body-mask\"></div>\n        </div>\n        `;\n    };\n\n    MODAL.tmpl = {\n        \"content\" : content,\n\n        get: function (tmplName, data, columnKeys) {\n            return ax5.mustache.render(MODAL.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n})();"]}